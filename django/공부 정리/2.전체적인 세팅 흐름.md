### 1) 가상환경 만들기
- python버전 가상환경 세팅 : pyenv virtualenv <이름>
- 프로젝트 가상환경과 동기화 : pyenv local <이름>
- 프로젝트에 진입(필요시) : pyenv activate <이름>
- 진입 성공했는지 확인 : python -V



### 2) 의존성 관리 가상환경 세팅
- poetry 초기화 : poetry init
- poetry 설치 : poetry install
- 패키지 설치 : poetry add <의존성 패키지>



### 3) django 설정
- 장고 프로젝트 폴더 생성, 시작 : django-admin startproject <파일이름> .
- pycham에서 장고 프로젝트에 맞게 설정 : django 설정에서 폴더 맞춰서 설정하기



### 4) 파이썬에 프로젝트 앱 추가
- 파이썬 app파일 만들기 : python manage.py startapp <파일이름>
- settings에 app 폴더 등록 : 
```python
DJANGO_APPS = [
    ...
]

OWNER_APP=[
'<app파일 이름>',
]

THIRD_PARTY_APPS = [
]

INSTALLED_APPS = OWNER_APP + THIRD_PARTY_APPS
```



### 5) jango 전용 인터프리터 패키지 생성
- poerty add ipython
- poetry add django-extensions
- THIRD_PARTY_APPS에 앱 추가
```python
THIRD_PARTY_APPS = [
    'django_extensions',
]
```



### 6) 장고 서버 실행
- 파이썬 서버 실행 : python manage.py runserver
- 마이그레이션으로 빨간 경고 없애기 : python manage.py migrate



### 7) 테이블 쿼리(ORM) 계획 및 작성
- 테이블 구조를 생각하고 ORM 작성 준비하기
- ORM작성
```python
from django.db import models

class Blog(models.Model):
    CARTEGORY = (
        ('<실제 목록>', '<별칭>'),
        ('<실제 목록>', '<별칭>'),
        ...
    )

    category = models.CharField('카테고리',max_length=10 , choices= CARTEGORY)
    title = models.CharField('제목', max_length=100)
    content = models.TextField('본문')

    created_at = models.DateTimeField('작성일자', auto_now_add = True)
    updated_at = models.DateTimeField('수정일자', auto_now = True)

    # admin페이지에서 필드 이름 설정
    def __str__(self):
        return f"[{self.category}] {self.title}"
        '''
        혹은 self.category 대신 self.get_<컬럼명>.display()
        '''
    # 클래스 메타데이터 설정
    class Meta:
        verbos_name = '<테이블 이름>'
        verbos_name_plural = '<복수 테이블 이름>'
```
- admin에서 테이블 목록 한글로 보려면 settings에서 수정 : LANGUAGE_CODE = 'ko-KR'



### 8) 어드민 페이지 설정
- 어드민 페이지에 테이블 등록
``` python
from django.contrib import admin
from <앱폴더>.models import <모델명>

@admin.register(<모델명>)
class BlogAdmin(admin.ModelAdmin):
    ...
```
- 어드민 계정 생성 : python manage.py createsuperuser -> 계정 설정
- 서버 열어서 확인
- 필드 생성시 본문 글을 작성하기 귀찮으니 **한글입숨**을 활용해서 자동 생성하여 넣는 방법이 있음
    - [링크] (http://guny.kr/stuff/klorem/)



### 9) views.py에 앤드포인트 실행 함수 만들기
- views.py에 앤드포인트 함수 작성
```python
from django.shortcut import render

def <모델명>_list(request):
    blogs = Blog.objects.all()

    context = {
        'blogs' : blogs
    }
    return render(request, "<templates>.html", context)
```
- templates 폴더를 만들고 해당 .html 파일 만들고 작성하기

- settings에 템플릿 경로 추가

```python
BASE_DIR = Path(__file__).resolve().parent.parent
TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [BASE_DIR / 'templates'], #여기에 추가
        'APP_DIRS': True, # app 폴더에 templates를 만들면 DIRS를 작성 안하고 바로 등록 가능.
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]
```



### 10) 경로 추가
- 엔드포인트 경로 추가.
```
from django.contrib import admin
from django.urls import path

urlpatterns = [
    path('admin/', admin.site.urls),
    path('blog/', views.<앤포_함수_이름>, name="blog_list),
    path('blog/<int:<인수>>', views.<앤포_함수_이름>, name="blog_detail),
]
```

- 위 path의 name은 jinja에서 {% url "<name에 설정한 이름>" <받은 값>.id %}

### 11) 엔드포인트 함수에 쓰이는 db조회 orm 모음
1. 있으면 주고 없으면 404 : get_object_or_404(<테이블_객체>, <조회_컬럼>=<검색_내용>)
2. 역정렬 방법 : <테이블_객체>.objects.all().order_dy('-created_at')
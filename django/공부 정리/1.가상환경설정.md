# 가상환경 설정 및 django 설정 순서

### 1) pyenv-virtualenv
- pyenv virtualenv <python버전> <환경이름>
- pyenv local <환경이름>
- python --version
- pycham 에서 인터프리터 잡기

### 2) poetry
- poetry init -> 4번째에 n으로 설정
- poetry install

### 3) django
- poetry add django
- django-admin startproject config .
- django pycham에서 설정 잡기.
- python manage.py startapp <폴더이름>

### 4) db연결
- python manage.py migrate

### 5) admin page
- python manage.py createsuperuser

### 6) migration
- python manage.py makemigration
- python manage.py migrate

### 7) model설정
- class Blog(models.Model) : 테이블 생성 클래스
-   title = models.CharField(max_length(100)) : 컬럼 설정
-   cartegory = models.CharField(max_length(50), choices = ((<이름>, <별칭>),(<이름>, <별칭>)))

-   def __str__(self): # 어트리뷰트 이름 나오는 설정
        return f'[{self.get_category_display()}] {self.title}' # get_category_display() : 카테고리의 별명을 표시함.

-   class Meta: admin 페이지 설정
        verbose_name = '블로그' : 복수 별명
        verbose_plural = '블로그 목록 : 단수 별명

### 8) 라우터 생성
- views에 앤드포인트 함수를 만들고 urls에서 경로를 연결함
- get_object_or_404(<테이블객체>, <찾는 컬럼 요소>) : 만약 찾는 객체가 테이블에 없으면 404를 리턴함.

### 9) 

### 10) Session & Cokkie
- 쿠키 발급 : visits = int(request.COOKIES.get('visits', 0)) + 1

- 세션 발급 : request.session['count'] = request.session.get("count", 0) + 1

### 11) login
- 경로 추가 : path('accounts/', include("django.contrib.auth.urls")) 
- 로그인 리다이렉트 경로 settings에 추가 : LOGIN_REDIRECT_URL = '/'

### 12) 세션과 쿠키
- 쿠키 : 쿠키에는 중요한 정보를 저장하지 않음.

- 세션 : 서버단에 저장됨. 쿠키에 저장된 key값을 세션에 저장된 값도 대조함.